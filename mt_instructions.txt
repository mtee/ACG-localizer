dependencies and flags
	opencv 3.4 (make sure SiftFeatureDetector is available)
		SiftFeatureDetector is used to be in the 3d party opencv_contrib project but beginning with some
		3.4.x version it is now included in the main opencv branch
	PCL (point cloud library) of version at least 1.8.1
	g2o - build from sources, enable BUILD_WITH_MARCH_NATIVE if PCL is built with arch_native flag (which is default setting for PCL)
	rtabmap
	flann - use the one which is supplied with the ACG Localizer library - it is modified




running the localizer
1. In the Rtabmap (available in the play store as an android app for Tango Smartphone):
	In the settings: set mapping rate to 3-5 Hz and turn on HD images mode
	Scan an environment with Rtabmap and save it.
2. Transfer the .db of the scan on a computer where Rtabmap is available
3. Now re-run the scan on the desktop but using the SIFT features:
   In desktop Rtabmap:
	Change Features to SIFT:
		Window => Preferences
		Show Advanced
		Go to Motion Estimation - Visual Registration
			Change Visual Feature to SIFT
		Go to RTAB-Map Settings - Memory - Vocabulary - uncheck "Use odometry features" and select SIFT
		Turn off "use depth as mask"
	Re-run scan:
   		Go to Source, select Database as source type
		Under Database select the file from tango smartphone
		Use default/recommended options

   Run the scan and wait until it processed all the frames
   Export in the bundler format, check the "bundle adjustment" and "rematch features" checkboxes
   Move the .key files into the same folder where the .jpg files are

Run:
1.
$ ~/acg_localizer/ACG-localizer/bin/Bundle2Info cameras.out list.txt bundle.info

First two parameters are input generated by RTAB-Map exporter
Third parameter is output, which serves as an input for the next step
Output should contain:
"Could not find 0 many keypoints". 
Example output for a medium-sized environment:
# 3D points 68375, # cameras 600
 a single 3D point is on average visible in 2.55813 cameras ( max: 21 ) 
 min #points in image 0, average: 291.52, max: 2038



2.  
 ~/acg_localizer/ACG-localizer/bin/compute_desc_assignments bundle.info 1 100000 /home/demouser/acg_localizer/ACG-localizer/markt_paris_gpu_sift_100k.cluster  bundle.desc_assignments.integer_mean.voctree.clusters.100k.bin 6 1 0

First parameter is an input (output of the previous step)
Fourth parameter is a generic dictionary that can be used for most localization scenarios
Fifth parameter is the output which can be used by library for localization

Example output for a medium-sized environment:
***** Memory requirements ******
 68375 points -> 205125 floats -> 0 MB 
 152736 descriptors -> 19550208 unsigned chars -> 18 MB 
 152736 assignments -> 305472 uint32_t -> 1 MB 
 in total : 19 MB 


